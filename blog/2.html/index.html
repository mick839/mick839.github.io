<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8" />
<meta name="generator" content="Hugo 0.139.3">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="toTop" content="true">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="" />
<meta property="og:url" content="/blog/2.html/" />
<link rel="canonical" href="/blog/2.html/" /><link rel="apple-touch-icon" href="https://cdn.icon-icons.com/icons2/2622/PNG/512/lemon_icon_158326.png" />
<link rel="icon" href="https://cdn.icon-icons.com/icons2/2622/PNG/512/lemon_icon_158326.png" />
<link rel="shortcut" href="https://cdn.icon-icons.com/icons2/2622/PNG/512/lemon_icon_158326.png" /><link rel="alternate" type="application/atom+xml" href="/index.xml" title="mick的博客">
<script type="application/ld+json">
{
"@context" : "http://schema.org",
"@type" : "BlogPosting",
"mainEntityOfPage": {
"@type": "WebPage",
"@id": "\/"
},
"articleSection" : "blog",
"name" : "成功自动部署！",
"headline" : "成功自动部署！",
"description" : "1、博客上传到github，并且绑定域名 静态博客仓库：https:\/\/github.com\/mick839\/mick839.github.io\nhugo-blog文件更新仓库：https:\/\/github.com\/mick839\/hugo-blog\n",
"inLanguage" : "en-US",
"author" : "",
"creator" : "",
"publisher": "",
"accountablePerson" : "",
"copyrightHolder" : "",
"copyrightYear" : "2023",
"datePublished": "2023-06-07 16:00:00 \u002b0800 \u002b0800",
"dateModified" : "2023-06-07 16:00:00 \u002b0800 \u002b0800",
"url" : "\/blog\/2.html\/",
"keywords" : [ "随笔", ]
}
</script><title>成功自动部署！@mick</title>
<meta property="og:title" content="成功自动部署！" />
<meta property="og:type" content="article" />
<meta property="og:description" content="1、博客上传到github，并且绑定域名 静态博客仓库：https://github.com/mick839/mick839.github.io
hugo-blog文件更新仓库：https://github.com/mick839/hugo-blog
" />
<meta name="description" content="1、博客上传到github，并且绑定域名 静态博客仓库：https://github.com/mick839/mick839.github.io
hugo-blog文件更新仓库：https://github.com/mick839/hugo-blog
" />
<meta property="og:locale" content="en-us" /><meta property="og:image" content="https://cdn.icon-icons.com/icons2/2622/PNG/512/lemon_icon_158326.png" />

<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/css/index.css">
<link href="/index.xml" rel="alternate" type="application/rss+xml" title="mick的博客">
<script src="/js/jquery3.6.0.min.js"></script>
</head>

<body>
  <div class="body">
    <header>
      <a href="/" class="logo">mick的博客</a>
      <div class="header-title"></div>
      <div class="nav">
        <a href="/">首页</a>
        
        <a href="/blog/">我说</a>
        
        <a href="/boy/">娃说</a>
        
        <a href="/about/">关于</a>
        
        <div class="icon">
          <a href="/index.xml" target="_blank"><svg xmlns="http://www.w3.org/2000/svg"
              class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2"
              stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <path d="M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>
              <path d="M4 4a16 16 0 0 1 16 16"></path>
              <path d="M4 11a9 9 0 0 1 9 9"></path>
            </svg></a>
          <a href="/search"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search"
              width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
              stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path>
              <path d="M21 21l-6 -6"></path>
            </svg></a>
        </div>
      </div>


      <div class="mob-menu">
        <em></em><em></em><em></em>
      </div>
    </header>
    <main class="main" id="pjax-container">

<section>
  <div class="single-title">成功自动部署！</div>
  
  
  <time class="single-date" datetime=" 2023-06-07 16:00:00 &#43;0800">
    2023年06月07日 16:00
  </time>
  
  

  <nav id="TableOfContents">
  <ul>
    <li><a href="#1博客上传到github并且绑定域名">1、博客上传到github，并且绑定域名</a></li>
    <li><a href="#2开启自动部署步骤如下">2、开启自动部署，步骤如下：</a>
      <ul>
        <li><a href="#1本地更新文件">（1）本地更新文件</a></li>
        <li><a href="#2push到github">（2）push到github</a></li>
      </ul>
    </li>
    <li><a href="#3鸣谢">3、鸣谢~</a></li>
  </ul>
</nav>
  <div class="post-content markdown-body" id="post-content">
    
    <h2 id="1博客上传到github并且绑定域名">1、博客上传到github，并且绑定域名</h2>
<p>静态博客仓库：https://github.com/mick839/mick839.github.io</p>
<p>hugo-blog文件更新仓库：https://github.com/mick839/hugo-blog</p>
<p>DNS解析：Cloudflare</p>
<p>CNAME：mick.wtf</p>
<p>yml文件如下：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>name<span style="color:#000;font-weight:bold">:</span> deploy
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>on<span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    push<span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    workflow_dispatch<span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    schedule<span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a61717;background-color:#e3d2d2">#</span> Runs everyday at <span style="color:#099">8</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">00</span> AM
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">-</span> cron<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;0 8 * * *&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>jobs<span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    build<span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>        runs<span style="color:#000;font-weight:bold">-</span>on<span style="color:#000;font-weight:bold">:</span> ubuntu<span style="color:#000;font-weight:bold">-</span>latest
</span></span><span style="display:flex;"><span>        steps<span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">-</span> name<span style="color:#000;font-weight:bold">:</span> Checkout
</span></span><span style="display:flex;"><span>              uses<span style="color:#000;font-weight:bold">:</span> actions<span style="color:#000;font-weight:bold">/</span>checkout<span style="color:#a61717;background-color:#e3d2d2">@</span>v2
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">with</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                  submodules<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>                  fetch<span style="color:#000;font-weight:bold">-</span>depth<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">-</span> name<span style="color:#000;font-weight:bold">:</span> Setup Hugo
</span></span><span style="display:flex;"><span>              uses<span style="color:#000;font-weight:bold">:</span> peaceiris<span style="color:#000;font-weight:bold">/</span>actions<span style="color:#000;font-weight:bold">-</span>hugo<span style="color:#a61717;background-color:#e3d2d2">@</span>v2
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">with</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                  hugo<span style="color:#000;font-weight:bold">-</span>version<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;latest&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">-</span> name<span style="color:#000;font-weight:bold">:</span> Build Web
</span></span><span style="display:flex;"><span>              run<span style="color:#000;font-weight:bold">:</span> hugo
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">-</span> name<span style="color:#000;font-weight:bold">:</span> Deploy Web
</span></span><span style="display:flex;"><span>              uses<span style="color:#000;font-weight:bold">:</span> peaceiris<span style="color:#000;font-weight:bold">/</span>actions<span style="color:#000;font-weight:bold">-</span>gh<span style="color:#000;font-weight:bold">-</span>pages<span style="color:#a61717;background-color:#e3d2d2">@</span>v3
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">with</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                  PERSONAL_TOKEN<span style="color:#000;font-weight:bold">:</span> ${{ secrets.PERSONAL_TOKEN }}
</span></span><span style="display:flex;"><span>                  EXTERNAL_REPOSITORY<span style="color:#000;font-weight:bold">:</span> mick839<span style="color:#000;font-weight:bold">/</span>mick839.github.io
</span></span><span style="display:flex;"><span>                  PUBLISH_BRANCH<span style="color:#000;font-weight:bold">:</span> master
</span></span><span style="display:flex;"><span>                  PUBLISH_DIR<span style="color:#000;font-weight:bold">:</span> .<span style="color:#000;font-weight:bold">/</span><span style="color:#000;font-weight:bold">public</span>
</span></span><span style="display:flex;"><span>                  commit_message<span style="color:#000;font-weight:bold">:</span> ${{ github.event.head_commit.message }}
</span></span><span style="display:flex;"><span>                  cname<span style="color:#000;font-weight:bold">:</span> mick.wtf
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="2开启自动部署步骤如下">2、开启自动部署，步骤如下：</h2>
<h3 id="1本地更新文件">（1）本地更新文件</h3>
<p>在本地修改内容，如增加、修改博客，或修改前端代码</p>
<h3 id="2push到github">（2）push到github</h3>
<p>所需代码如下：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>cd d<span style="color:#000;font-weight:bold">:</span><span style="color:#a61717;background-color:#e3d2d2">/hugo-blog</span>
</span></span><span style="display:flex;"><span>d<span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit <span style="color:#000;font-weight:bold">-</span>m <span style="color:#d14">&#34;更新了博客&#34;</span>
</span></span><span style="display:flex;"><span>git push <span style="color:#000;font-weight:bold">-</span>u origin master
</span></span></code></pre></td></tr></table>
</div>
</div><p>会自动action并发布到静态仓库，在hugo-blog文件夹下创建bat文件即可自动push</p>
<p>完成，等待自动更新即可~</p>
<h2 id="3鸣谢">3、鸣谢~</h2>
<p><strong>感谢老婆的大力支持，赚钱养我，并且不介意我搞这些没用的东西~</strong></p>
<p><img src="http://n.sinaimg.cn/sinacn11/65/w439h426/20180327/d795-fysqfnh2721649.jpg" alt="image"></p>
<p><strong>另外，我真是个天才，哈哈哈哈~</strong></p>
<p>希望在未来的日子里，可以记录一些有趣的东西。</p>

  </div>

  
  

</section>







</main>
<footer>
  <div>© 2023 - <span id="year"></span></div>
  <div>
    <a href="https://beian.miit.gov.cn/" target="_blank"><span></span></a>
  </div>
  <div>Powered by <a href="https://github.com/mick839">mick</a></div>
  <div>网站已经运行 <span id="days">0</span></div>
  <div class="gotop">▲</div>
</footer>
<script>
  var s0 = '2023-06-06';
  s1 = new Date(s0.replace(/-/g, "/"));
  s2 = new Date();
  var days = s2.getTime() - s1.getTime();

  var date = new Date;
  var year = date.getFullYear();
  document.getElementById('year').innerHTML = year;

  var BootDate = new Date("2023-06-06");
  function ShowRunTime(id) {
    var NowDate = new Date();
    var RunDateM = parseInt(NowDate - BootDate);
    var RunDays = Math.floor(RunDateM / (24 * 3600 * 1000));
    var RunHours = Math.floor(RunDateM % (24 * 3600 * 1000) / (3600 * 1000));
    var RunMinutes = Math.floor(RunDateM % (24 * 3600 * 1000) % (3600 * 1000) / (60 * 1000));
    var RunSeconds = Math.round(RunDateM % (24 * 3600 * 1000) % (3600 * 1000) % (60 * 1000) / 1000);
    var days = RunDays + "天" + RunHours + "时" + RunMinutes + "分" + RunSeconds + "秒";
    document.getElementById(id).innerHTML = days;
  }
  ShowRunTime('days');
  setInterval("ShowRunTime('days')", 1000);
</script>


<script src="/js/simplebox.min.js"></script>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>
<script src="/js/jquery.pjax.js"></script>
<script>
  $(document).pjax('a', '#pjax-container')
</script>
</div>
</body>

</html>